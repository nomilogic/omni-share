import{c as m,j as e,r as c,X as x,C as u,S as h,n as p}from"./index-pJ_oPsQr.js";const f=({link:r,opts:s,onClose:t})=>{const[i,n]=c.useState(!1);c.useEffect(()=>{function a(d){d.key==="Escape"&&t()}return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t]);const o=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("copy failed",a)}},l=async()=>{if(navigator.share)try{await navigator.share({title:s?.title||"Invite",text:s?.description||"Join me on OmniShare",url:r})}catch(a){console.error("share failed",a)}else o(),p("error","Share API not supported in this browser â€” link copied to clipboard")};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),e.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-md shadow-md p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s?.title||"Invite a friend"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:s?.description||"Share this link to invite others"})]}),e.jsx("button",{onClick:t,"aria-label":"Close",className:"p-1 text-gray-500 font-medium hover:text-slate-800",children:e.jsx(x,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-2",children:"Invite link"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{readOnly:!0,value:r,className:"flex-1 px-3 py-2.5 border rounded bg-gray-50"}),e.jsx("button",{onClick:o,title:"Copy link",className:"px-2 py-2.5 bg-gray-100 rounded",children:e.jsx(u,{className:"w-4 h-4"})})]}),i&&e.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Copied!"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white rounded",children:[e.jsx(h,{className:"w-4 h-4"}),"Share"]}),e.jsx("button",{onClick:t,className:"px-4 py-2.5 border rounded",children:"Close"})]})]})]})};function j(r,s){const t=document.createElement("div");document.body.appendChild(t);const i=m.createRoot(t);function n(){setTimeout(()=>{try{i.unmount(),t.remove()}catch(o){console.error(o)}},200)}i.render(e.jsx(f,{link:r,opts:s,onClose:n}))}export{f as default,j as openInviteModal};
//# sourceMappingURL=InviteShare-DtZa9Idt.js.map
