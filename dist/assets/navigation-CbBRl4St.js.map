{"version":3,"file":"navigation-CbBRl4St.js","sources":["../../src/lib/navigation.ts"],"sourcesContent":["// navigation helper to prevent redirect loops\r\nexport function navigateOnce(navigate: (to: string, opts?: any) => void, to: string, opts: any = {}) {\r\n  try {\r\n    const key = 'last_nav';\r\n    const now = Date.now();\r\n    const raw = sessionStorage.getItem(key);\r\n    if (raw) {\r\n      const parsed = JSON.parse(raw);\r\n      if (parsed && parsed.to === to && now - parsed.at < 1000) {\r\n        // ignore repeated navigation to same target within 1s\r\n        console.debug('navigateOnce: suppressed duplicate navigation to', to);\r\n        return;\r\n      }\r\n    }\r\n    sessionStorage.setItem(key, JSON.stringify({ to, at: now }));\r\n    navigate(to, opts);\r\n  } catch (e) {\r\n    console.error('navigateOnce failed, falling back to navigate', e);\r\n    navigate(to, opts);\r\n  }\r\n}\r\n"],"names":["navigateOnce","navigate","to","opts","key","now","raw","parsed","e"],"mappings":"AACO,SAASA,EAAaC,EAA4CC,EAAYC,EAAY,CAAA,EAAI,CACnG,GAAI,CACF,MAAMC,EAAM,WACNC,EAAM,KAAK,IAAA,EACXC,EAAM,eAAe,QAAQF,CAAG,EACtC,GAAIE,EAAK,CACP,MAAMC,EAAS,KAAK,MAAMD,CAAG,EAC7B,GAAIC,GAAUA,EAAO,KAAOL,GAAMG,EAAME,EAAO,GAAK,IAAM,CAExD,QAAQ,MAAM,mDAAoDL,CAAE,EACpE,MACF,CACF,CACA,eAAe,QAAQE,EAAK,KAAK,UAAU,CAAE,GAAAF,EAAI,GAAIG,CAAA,CAAK,CAAC,EAC3DJ,EAASC,EAAIC,CAAI,CACnB,OAASK,EAAG,CACV,QAAQ,MAAM,gDAAiDA,CAAC,EAChEP,EAASC,EAAIC,CAAI,CACnB,CACF"}