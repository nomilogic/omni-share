import{c as m,j as e,r as l,X as x,C as u,S as h,n as f}from"./index-Bux82WcC.js";const y=({link:r,opts:t,onClose:a})=>{const[i,n]=l.useState(!1);l.useEffect(()=>{function s(o){o.key==="Escape"&&a()}return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a]);const c=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("copy failed",s)}},d=async()=>{if(navigator.share)try{await navigator.share({title:(t==null?void 0:t.title)||"Invite",text:(t==null?void 0:t.description)||"Join me on OmniShare",url:r})}catch(s){console.error("share failed",s)}else c(),f("error","Share API not supported in this browser â€” link copied to clipboard")};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),e.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-md shadow-md p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:(t==null?void 0:t.title)||"Invite a friend"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:(t==null?void 0:t.description)||"Share this link to invite others"})]}),e.jsx("button",{onClick:a,"aria-label":"Close",className:"p-1 text-gray-500 font-medium hover:text-slate-800",children:e.jsx(x,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs text-gray-500 font-medium mb-2",children:"Invite link"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{readOnly:!0,value:r,className:"flex-1 px-3 py-2.5 border rounded bg-gray-50"}),e.jsx("button",{onClick:c,title:"Copy link",className:"px-2 py-2.5 bg-gray-100 rounded",children:e.jsx(u,{className:"w-4 h-4"})})]}),i&&e.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Copied!"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white rounded",children:[e.jsx(h,{className:"w-4 h-4"}),"Share"]}),e.jsx("button",{onClick:a,className:"px-4 py-2.5 border rounded",children:"Close"})]})]})]})};function v(r,t){const a=document.createElement("div");document.body.appendChild(a);const i=m(a);function n(){setTimeout(()=>{try{i.unmount(),a.remove()}catch(c){console.error(c)}},200)}i.render(e.jsx(y,{link:r,opts:t,onClose:n}))}export{y as default,v as openInviteModal};
//# sourceMappingURL=InviteShare-DFPHbB97.js.map
